all:                                                                                                # Common group variables for all hosts
  vars:
    company: aurea
    project: jervis
    team: ms.cf
    product: central
    maintainer:
      skype: v1_pankaj
      
docker-host:
  children:
    dlb1.aureacentral.com                              # Main host group that will be targeted by the playbook
      
dlb1.aureacentral.com:
  vars:
    ansible_host: dlb1.aureacentral.com
    labels:
      SERVICE_NAME: vuejs-linux-app
      SERVICE_TAGS: trilogy.expose-v2,trilogy.http,trilogy.endpoint=vuejs.aureacentral.com    
  hosts:                                                                                           # Inside central docker host group, each host entry is actually a container
    linux-cdh-vuejs-app:                                                                                # Params to be used by the Ansible Docker module
      image: "registry2.swarm.devfactory.com/aurea/central/jervis/spring-boot-vuejs-app:{{ version_tag }}"
      memory: 4G
      recreate: yes
      pull: yes
      cpu_period: 100000
      cpu_quota: 300000
      cpu_shares: 2048
      network_mode: bridge
      services:
        - name: vuejs-linux-app
      ports:
        - ::8080                                                                                    # Ports can be random, but more stable environments need a fixed port per host/environment
        - ::8088
      exposed_ports:                                               
        - ::8080
        - ::8088
